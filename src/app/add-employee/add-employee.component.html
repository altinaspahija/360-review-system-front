<div class="main-wrapper" fxLayout="row" fxLayoutAlign="center center">
  <mat-card class="box">
    <mat-card-header>
      <mat-card-title>Register new employee</mat-card-title>
    </mat-card-header>

    <form [formGroup]="registerForm" (ngSubmit)="registerEmployee()" class="employee-form">

      <mat-card-content>
        <mat-form-field class="full-width">
          <input matInput autocomplete="off" placeholder="Name" formControlName="name" required>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput autocomplete="off" placeholder="Surname" formControlName="surname" required>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput autocomplete="off" placeholder="Username" formControlName="username" required>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput type="password" autocomplete="off" placeholder="Password" formControlName="password" required>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput type="text" autocomplete="off" placeholder="Email" formControlName="email" required
            [pattern]="emailPattern">

          <div *ngIf="email!.errors">
            <div style="color:red; font-size: 10px; padding-top:5px" *ngIf="email!.errors.pattern">
              Email not valid
            </div>
          </div>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput autocomplete="off" placeholder="Phone Number" required formControlName="phoneNumber">
        </mat-form-field>

        <mat-form-field class="full-width calendar" appearance="outline">
          <mat-label>Start Date</mat-label>
          <input matInput readonly formControlName="startDate" [matDatepicker]="picker1" (click)="picker1.open()"
            required>
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker1></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Choose role</mat-label>
          <mat-select formControlName="roleId" required>
            <mat-option *ngFor="let role of role" [value]="role.roleId">
              {{role.roleDescription}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Choose department</mat-label>
          <mat-select (selectionChange)="getSelected($event)" formControlName="departmentId" required>
            <mat-option *ngFor="let department of department" [value]="department.departmentId">
              {{department?.departmentTitle}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Choose position</mat-label>
          <mat-select formControlName="positionId" required>
            <mat-option *ngFor="let position of positionByDep" [value]="position.positionId">
              {{position.positionTitle}}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </mat-card-content>

      <div class="employee-button">

        <button mat-stroked-button color="primary" class="btn-block" type="button"
          (click)="registerEmployee()">Register</button>

      </div>
    </form>
  </mat-card>
</div>